webpackJsonp([1],{"/B/o":function(e,t){},AKbi:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("MVMM"),a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("vSla")({name:"App"},a,!1,function(e){n("QOny")},"data-v-465b8043",null).exports,l=n("zO6J"),s=n("3cXf"),i=n.n(s),c=n("aozt"),u=n.n(c),d=0,p=8;function m(e){return x(f(k(e),e.length*p))}function f(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,a=-1732584194,o=271733878,l=0;l<e.length;l+=16){var s=n,i=r,c=a,u=o;r=b(r=b(r=b(r=b(r=_(r=_(r=_(r=_(r=g(r=g(r=g(r=g(r=v(r=v(r=v(r=v(r,a=v(a,o=v(o,n=v(n,r,a,o,e[l+0],7,-680876936),r,a,e[l+1],12,-389564586),n,r,e[l+2],17,606105819),o,n,e[l+3],22,-1044525330),a=v(a,o=v(o,n=v(n,r,a,o,e[l+4],7,-176418897),r,a,e[l+5],12,1200080426),n,r,e[l+6],17,-1473231341),o,n,e[l+7],22,-45705983),a=v(a,o=v(o,n=v(n,r,a,o,e[l+8],7,1770035416),r,a,e[l+9],12,-1958414417),n,r,e[l+10],17,-42063),o,n,e[l+11],22,-1990404162),a=v(a,o=v(o,n=v(n,r,a,o,e[l+12],7,1804603682),r,a,e[l+13],12,-40341101),n,r,e[l+14],17,-1502002290),o,n,e[l+15],22,1236535329),a=g(a,o=g(o,n=g(n,r,a,o,e[l+1],5,-165796510),r,a,e[l+6],9,-1069501632),n,r,e[l+11],14,643717713),o,n,e[l+0],20,-373897302),a=g(a,o=g(o,n=g(n,r,a,o,e[l+5],5,-701558691),r,a,e[l+10],9,38016083),n,r,e[l+15],14,-660478335),o,n,e[l+4],20,-405537848),a=g(a,o=g(o,n=g(n,r,a,o,e[l+9],5,568446438),r,a,e[l+14],9,-1019803690),n,r,e[l+3],14,-187363961),o,n,e[l+8],20,1163531501),a=g(a,o=g(o,n=g(n,r,a,o,e[l+13],5,-1444681467),r,a,e[l+2],9,-51403784),n,r,e[l+7],14,1735328473),o,n,e[l+12],20,-1926607734),a=_(a,o=_(o,n=_(n,r,a,o,e[l+5],4,-378558),r,a,e[l+8],11,-2022574463),n,r,e[l+11],16,1839030562),o,n,e[l+14],23,-35309556),a=_(a,o=_(o,n=_(n,r,a,o,e[l+1],4,-1530992060),r,a,e[l+4],11,1272893353),n,r,e[l+7],16,-155497632),o,n,e[l+10],23,-1094730640),a=_(a,o=_(o,n=_(n,r,a,o,e[l+13],4,681279174),r,a,e[l+0],11,-358537222),n,r,e[l+3],16,-722521979),o,n,e[l+6],23,76029189),a=_(a,o=_(o,n=_(n,r,a,o,e[l+9],4,-640364487),r,a,e[l+12],11,-421815835),n,r,e[l+15],16,530742520),o,n,e[l+2],23,-995338651),a=b(a,o=b(o,n=b(n,r,a,o,e[l+0],6,-198630844),r,a,e[l+7],10,1126891415),n,r,e[l+14],15,-1416354905),o,n,e[l+5],21,-57434055),a=b(a,o=b(o,n=b(n,r,a,o,e[l+12],6,1700485571),r,a,e[l+3],10,-1894986606),n,r,e[l+10],15,-1051523),o,n,e[l+1],21,-2054922799),a=b(a,o=b(o,n=b(n,r,a,o,e[l+8],6,1873313359),r,a,e[l+15],10,-30611744),n,r,e[l+6],15,-1560198380),o,n,e[l+13],21,1309151649),a=b(a,o=b(o,n=b(n,r,a,o,e[l+4],6,-145523070),r,a,e[l+11],10,-1120210379),n,r,e[l+2],15,718787259),o,n,e[l+9],21,-343485551),n=w(n,s),r=w(r,i),a=w(a,c),o=w(o,u)}return Array(n,r,a,o)}function h(e,t,n,r,a,o){return w((l=w(w(t,e),w(r,o)))<<(s=a)|l>>>32-s,n);var l,s}function v(e,t,n,r,a,o,l){return h(t&n|~t&r,e,t,a,o,l)}function g(e,t,n,r,a,o,l){return h(t&r|n&~r,e,t,a,o,l)}function _(e,t,n,r,a,o,l){return h(t^n^r,e,t,a,o,l)}function b(e,t,n,r,a,o,l){return h(n^(t|~r),e,t,a,o,l)}function w(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function k(e){for(var t=Array(),n=(1<<p)-1,r=0;r<e.length*p;r+=p)t[r>>5]|=(e.charCodeAt(r/p)&n)<<r%32;return t}function x(e){for(var t=d?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15);return n}n("L7Pj");var y={data:function(){var e=this;return{ruleForm2:{pass:"",checkPass:""},rules2:{pass:[{validator:function(t,n,r){""===n?r(new Error("请输入用户名")):(""!==e.ruleForm2.checkPass&&e.$refs.ruleForm2.validateField("checkPass"),r())},trigger:"blur"}],checkPass:[{validator:function(e,t,n){""===t?n(new Error("请输入密码")):n()},trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var n={};n.username=t.ruleForm2.pass,n.password=m(t.ruleForm2.checkPass),u.a.post("http://127.0.0.1:9000/login",n).then(function(e){1==e.data.code?t.$alert(e.data.msg):(window.sessionStorage.setItem("isLogin","true"),window.sessionStorage.setItem("loginTime",+new Date+""),u.a.get("http://127.0.0.1:9000/accessList?username="+n.username).then(function(e){if(0==e.data.code){var r=e.data.list.map(function(e){return console.log(e),e.accessname});0==r.length?t.$alert("你当前没有任何权限!"):(window.sessionStorage.setItem("accessList",i()(r)),t.$router.push({path:"/",query:{username:n.username}}))}else t.$alert(e.data.msg)}))})}else alert("您输入的用户名或密码错误")})}}},S={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-box"},[n("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"",rules:e.rules2,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"用户名",prop:"pass"}},[n("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:e.ruleForm2.pass,callback:function(t){e.$set(e.ruleForm2,"pass",t)},expression:"ruleForm2.pass"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[n("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:e.ruleForm2.checkPass,callback:function(t){e.$set(e.ruleForm2,"checkPass",t)},expression:"ruleForm2.checkPass"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm2")}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var $=n("vSla")(y,S,!1,function(e){n("SpSw")},"data-v-8084187e",null).exports,P={data:function(){return{username:"",accessList:[]}},methods:{handleOpen:function(e,t){console.log(e,t)},handleClose:function(e,t){console.log(e,t)},click:function(){this.$router.push("/content/admin")},reportCard:function(){this.$router.push("/content/report")}},beforeRouteEnter:function(e,t,n){var r=this;n(function(e){var t=window.sessionStorage.getItem("isLogin"),n=parseInt(window.sessionStorage.getItem("loginTime")),a=+new Date;if(t&&a-n<6e5);else{console.log(r);e.$alert("请先登陆",{callback:function(){e.$router.replace("/login")}})}})},mounted:function(){this.username=this.$route.query.username;var e=window.sessionStorage.getItem("accessList");console.log(e),e=e?JSON.parse(e):[],this.accessList=e}},L={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticClass:"wrap",attrs:{md:4,lg:16}},[n("el-header",{staticStyle:{height:"80px","line-height":"80px","font-size":"24px"}},[n("span",[e._v("1601N班级管理系统")]),e._v(" "),n("span",[e._v("欢迎"),n("b",[e._v(e._s(e.username))]),e._v("登录")])]),e._v(" "),n("el-container",[n("el-aside",{attrs:{width:"200px"}},[n("el-row",{staticClass:"tac"},[n("el-col",{attrs:{span:12}},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2","background-color":"#D3DCE6"},on:{open:e.handleOpen,close:e.handleClose}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-edit"}),e._v(" "),n("span",{attrs:{slot:"title"},on:{click:e.reportCard},slot:"title"},[e._v("成绩单管理")])]),e._v(" "),-1!=e.accessList.indexOf("view")?n("router-link",{attrs:{to:"/content/report",tag:"div"}},[n("el-menu-item",{attrs:{index:"1-1"}},[e._v("查看成绩单")])],1):e._e(),e._v(" "),-1!=e.accessList.indexOf("modify")?n("router-link",{attrs:{to:"/content/modify",tag:"div"}},[n("el-menu-item",{attrs:{index:"1-2"}},[e._v("修改成绩单")])],1):e._e()],2),e._v(" "),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-menu"}),e._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[e._v("综合积分管理")])]),e._v(" "),-1!=e.accessList.indexOf("checkin")?n("router-link",{attrs:{to:"/content/checkin",tag:"div"}},[n("el-menu-item",{attrs:{index:"2-1"}},[e._v("点名")])],1):e._e(),e._v(" "),-1!=e.accessList.indexOf("query")?n("router-link",{attrs:{to:"/content/query",tag:"div"}},[n("el-menu-item",{attrs:{index:"2-2"}},[e._v("查看综合积分")])],1):e._e()],2),e._v(" "),n("el-submenu",{attrs:{index:"3"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-setting"}),e._v(" "),n("span",{attrs:{slot:"title"},on:{click:e.click},slot:"title"},[e._v("管理员")])]),e._v(" "),-1!=e.accessList.indexOf("delete")?n("router-link",{attrs:{to:"/content/delete",tag:"div"}},[n("el-menu-item",{attrs:{index:"3-1"}},[e._v("删除学生")])],1):e._e(),e._v(" "),-1!=e.accessList.indexOf("admin")?n("router-link",{attrs:{to:"/content/admin",tag:"div"}},[n("el-menu-item",{attrs:{index:"3-2"}},[e._v("分配权限")])],1):e._e()],2)],1)],1)],1)],1),e._v(" "),n("el-main",[n("router-view")],1)],1)],1)},staticRenderFns:[]};var C=n("vSla")(P,L,!1,function(e){n("fhWX")},"data-v-4102d808",null).exports,F={data:function(){return{userList:[],currentPage:1,isShowList:!0,from:{},myRoler:[],rolerName:[]}},methods:{onback:function(){this.isShowList=!0},change:function(e){this.currentPage=e},handleSelectionChange:function(e){this.multipleSelection=e},handleEdit:function(e,t){this.isShowList=!1,this.from=t,this.getRolerList(t.id)},handleDelete:function(e,t){var n=this;this.userList.splice(e,1),u.a.get("http://127.0.0.1:9000/delUser?id="+t).then(function(e){0==e.data.code&&n.$alert("删除成功")})},getRolerList:function(e){var t=this;u.a.get("http://127.0.0.1:9000/rolerList?id="+e).then(function(e){0===e.data.code?(t.rolerName=e.data.rolerName,t.myRoler=e.data.myRoler):t.$alert(e.data.msg)})},removeTag:function(e,t){var n=this;console.log(e,t),u.a.get("http://127.0.0.1:9000/removeRoler?uid="+this.from.id+"&rid="+e.rid).then(function(e){0===e.data.code?n.myRoler.splice(t,1):n.$alert(e.data.msg)})},addTag:function(e){var t=this;-1==this.myRoler.findIndex(function(t){return t.rid==e.id})?u.a.get("http://127.0.0.1:9000/addTag?uid="+this.from.id+"&rid="+e.id).then(function(n){console.log(n),0==n.data.code?t.myRoler.push({rid:e.id,rolername:e.rolername}):t.$alert(n.data.msg)}):this.$alert("你已有当前角色")}},mounted:function(){var e=this;u.a.get("http://127.0.0.1:9000/userList").then(function(t){e.userList=t.data.data})}},R={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"admin-page"},[e.isShowList?n("div",{staticClass:"userlist"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.userList.slice(8*(this.currentPage-1),8*this.currentPage),"tooltip-effect":"dark",justify:"space-around"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),n("el-table-column",{attrs:{prop:"id",label:"id",width:"120"}}),e._v(" "),n("el-table-column",{attrs:{prop:"username",label:"姓名",width:"150"}}),e._v(" "),n("el-table-column",{attrs:{prop:"birthday",label:"出生日期","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{prop:"phone",label:"手机","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){e.handleDelete(t.$index,t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),n("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:e.userList.length+10},on:{"current-change":e.change}})],1):n("div",{staticClass:"roler-list",staticStyle:{background:"#fff",padding:"10px"}},[n("el-form",{ref:"form",attrs:{model:e.from,"label-width":"80px",size:"mini"}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{model:{value:e.from.username,callback:function(t){e.$set(e.from,"username",t)},expression:"from.username"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"电话"}},[n("el-input",{model:{value:e.from.phone,callback:function(t){e.$set(e.from,"phone",t)},expression:"from.phone"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"地址"}},[n("el-input",{model:{value:e.from.address,callback:function(t){e.$set(e.from,"address",t)},expression:"from.address"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"出生日期"}},[n("el-input",{model:{value:e.from.birthday,callback:function(t){e.$set(e.from,"birthday",t)},expression:"from.birthday"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"已有权限"}},e._l(e.myRoler,function(t,r){return n("el-tag",{key:r,staticStyle:{margin:"0 10px"},attrs:{closable:""},on:{close:function(n){e.removeTag(t,r)}}},[e._v(e._s(t.rolername))])})),e._v(" "),n("el-form-item",{attrs:{label:"全部权限"}},e._l(e.rolerName,function(t,r){return n("span",{key:r,on:{click:function(n){e.addTag(t)}}},[n("el-tag",{staticStyle:{margin:"0 10px"}},[e._v(e._s(t.rolername))])],1)}))],1),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.onback}},[e._v("返回")])],1)])},staticRenderFns:[]};var E=n("vSla")(F,R,!1,function(e){n("AKbi")},null,null).exports,O={data:function(){return{reportList:[],currentPage:1,isShow:!0,reportPeop:"",labelPosition:"right"}},methods:{change:function(e){this.currentPage=e},handleSelectionChange:function(e){this.multipleSelection=e},handleDelete:function(e,t){},reportNum:function(e,t){this.isShow=!1,this.reportPeop=t,console.log(this.reportPeop.score)},onback:function(){this.isShow=!0}},mounted:function(){var e=this;u.a.get("http://127.0.0.1:9000/reportTable").then(function(t){0==t.data.code?e.reportList=t.data.data:e.$alert(t.data.msg)})}},A={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"report"},[e.isShow?n("div",{staticClass:"report-box"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.reportList.slice(8*(this.currentPage-1),8*this.currentPage),"tooltip-effect":"dark",justify:"space-around"},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),n("el-table-column",{attrs:{prop:"uid",label:"id",width:"120"}}),e._v(" "),n("el-table-column",{attrs:{prop:"username",label:"姓名",width:"150"}}),e._v(" "),n("el-table-column",{attrs:{prop:"score",label:"成绩","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{prop:"data",label:"日期","show-overflow-tooltip":""}}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){e.reportNum(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"}},[e._v("删除")])]}}])})],1),e._v(" "),n("el-pagination",{staticClass:"page",attrs:{background:"",layout:"prev, pager, next",total:e.reportList.length+10},on:{"current-change":e.change}})],1):n("div",{staticClass:"report-num"},[n("el-form",{attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.reportPeop}},[n("el-form-item",{attrs:{label:"学生姓名"}},[n("el-input",{model:{value:e.reportPeop.username,callback:function(t){e.$set(e.reportPeop,"username",t)},expression:"reportPeop.username"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"学生成绩"}},[n("el-input",{model:{value:e.reportPeop.score,callback:function(t){e.$set(e.reportPeop,"score",t)},expression:"reportPeop.score"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"学生学好"}},[n("el-input",{model:{value:e.reportPeop.uid,callback:function(t){e.$set(e.reportPeop,"uid",t)},expression:"reportPeop.uid"}})],1)],1),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.onback}},[e._v("返回")])],1)])},staticRenderFns:[]};var T=n("vSla")(O,A,!1,function(e){n("/B/o")},null,null).exports,I={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v(" 修改成绩单")])},staticRenderFns:[]},N=n("vSla")(null,I,!1,null,null,null).exports,z={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("查看综合积分")])},staticRenderFns:[]},D=n("vSla")(null,z,!1,null,null,null).exports,q={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("点名")])},staticRenderFns:[]},j=n("vSla")(null,q,!1,null,null,null).exports,M={render:function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("删除学生")])},staticRenderFns:[]},B=n("vSla")(null,M,!1,null,null,null).exports;r.default.use(l.a);var J=new l.a({routes:[{path:"/",redirect:"/content/report"},{path:"/content",name:"Content",component:C,children:[{path:"/content/admin",component:E},{path:"/content/report",component:T},{path:"/content/modify",component:N},{path:"/content/query",component:D},{path:"/content/checkin",component:j},{path:"/content/delete",component:B}]},{path:"/login",name:"Login",component:$}]}),X=n("o+a0"),H=n.n(X);n("Y8I5");r.default.config.productionTip=!1,r.default.use(H.a),new r.default({el:"#app",router:J,components:{App:o},template:"<App/>"})},QOny:function(e,t){},SpSw:function(e,t){},Y8I5:function(e,t){},fhWX:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.fb47799edb6a95899c21.js.map